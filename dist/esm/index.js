import e,{useState as t,useEffect as n,useCallback as r}from"react";import i from"mermaid";function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}s((r=r.apply(e,t||[])).next())}))}let c;"function"==typeof SuppressedError&&SuppressedError;const l=l=>{const[s,a]=t(),[d,u]=t();void 0===c&&(c=0);const v=`${l.id||"d"+c++}-mermaid`,m=l.children,f=!l.disableJs;n((()=>{f&&i.initialize({startOnLoad:!0,securityLevel:l.securityLevel||"strict",theme:l.theme||"default",logLevel:l.logLevel||5})}),[l.securityLevel,l.theme,l.logLevel]);const h=r((e=>{e&&a(e)}),[]);return n((()=>{var e;s&&(null==d?void 0:d.svg)&&(s.innerHTML=d.svg,null===(e=d.bindFunctions)||void 0===e||e.call(d,s))}),[s,d]),n((()=>{(m||0!==m.length)&&f&&o(void 0,void 0,void 0,(function*(){var e;try{const e=yield i.render(`${v}-svg`,m);u(e)}catch(t){null===(e=l.onError)||void 0===e||e.call(l,t)}}))}),[m,l]),e.createElement("div",{className:l.className,onClick:l.onClick,id:v,"data-testid":l.testId,ref:h},f)};export{l as MermaidDiagram};
//# sourceMappingURL=index.js.map
