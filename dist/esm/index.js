import e,{useState as t,useEffect as n,useCallback as r}from"react";import i from"mermaid";function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function c(e){try{a(r.next(e))}catch(e){o(e)}}function l(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}a((r=r.apply(e,t||[])).next())}))}let c;"function"==typeof SuppressedError&&SuppressedError;const l=l=>{const[a,s]=t(),[d,u]=t();void 0===c&&(c=0);const v=`${l.id||"d"+c++}-mermaid`,f=l.children,m=!l.disableJs;n((()=>{m&&i.initialize({startOnLoad:!0,securityLevel:l.securityLevel||"strict",theme:l.theme||"default",logLevel:l.logLevel||5})}),[]);const p=r((e=>{e&&s(e)}),[]);return n((()=>{var e;a&&(null==d?void 0:d.svg)&&(a.innerHTML=d.svg,null===(e=d.bindFunctions)||void 0===e||e.call(d,a))}),[a,d]),n((()=>{(f||0!==f.length)&&m&&o(void 0,void 0,void 0,(function*(){var e;try{const e=yield i.render(`${v}-svg`,f);u(e)}catch(t){null===(e=l.onError)||void 0===e||e.call(l,t)}}))}),[f]),e.createElement("div",{className:l.className,onClick:l.onClick,id:v,"data-testid":l.testId,ref:p},m)};export{l as MermaidDiagram};
//# sourceMappingURL=index.js.map
