import n,{useState as t,useEffect as e,useCallback as o}from"react";import r from"mermaid";function i(n,t,e,o){return new(e||(e=Promise))((function(r,i){function c(n){try{l(o.next(n))}catch(n){i(n)}}function a(n){try{l(o.throw(n))}catch(n){i(n)}}function l(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,a)}l((o=o.apply(n,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const c=c=>{const[a,l]=t(),[d,s]=t(),u=`${c.id||"d"+Date.now()}-mermaid`,v=c.children;e((()=>{r.initialize({startOnLoad:!0,logLevel:5})}),[]);const f=o((n=>{n&&l(n)}),[]);return e((()=>{var n;a&&(null==d?void 0:d.svg)&&(a.innerHTML=d.svg,null===(n=d.bindFunctions)||void 0===n||n.call(d,a))}),[a,d]),e((()=>{(v||0!==v.length)&&i(void 0,void 0,void 0,(function*(){var n;try{const n=yield r.render(`${u}-svg`,v);s(n)}catch(t){null===(n=c.onError)||void 0===n||n.call(c,t)}}))}),[v]),n.createElement("div",{className:c.className,onClick:c.onClick,id:u,"data-testid":c.testId,ref:f})};export{c as MermaidDiagram};
//# sourceMappingURL=index.js.map
