import n,{useState as t,useEffect as e,useCallback as o}from"react";import r from"mermaid";function i(n,t,e,o){return new(e||(e=Promise))((function(r,i){function c(n){try{l(o.next(n))}catch(n){i(n)}}function a(n){try{l(o.throw(n))}catch(n){i(n)}}function l(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,a)}l((o=o.apply(n,t||[])).next())}))}let c;"function"==typeof SuppressedError&&SuppressedError;const a=a=>{const[l,d]=t(),[s,u]=t();void 0===c&&(c=0);const v=`${a.id||"d"+c++}-mermaid`,f=a.children,m=!a.disableJs;e((()=>{m&&r.initialize({startOnLoad:!0,logLevel:5})}),[]);const p=o((n=>{n&&d(n)}),[]);return e((()=>{var n;l&&(null==s?void 0:s.svg)&&(l.innerHTML=s.svg,null===(n=s.bindFunctions)||void 0===n||n.call(s,l))}),[l,s]),e((()=>{(f||0!==f.length)&&m&&i(void 0,void 0,void 0,(function*(){var n;try{const n=yield r.render(`${v}-svg`,f);u(n)}catch(t){null===(n=a.onError)||void 0===n||n.call(a,t)}}))}),[f]),n.createElement("div",{className:a.className,onClick:a.onClick,id:v,"data-testid":a.testId,ref:p},m)};export{a as MermaidDiagram};
//# sourceMappingURL=index.js.map
